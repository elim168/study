# Filter介绍

如果我们想要在调用远程服务前后，或者服务提供者在接收调用请求前后加上一些特定的逻辑，可以考虑自定义`org.apache.dubbo.rpc.Filter`。其实Dubbo内部很多功能也都是由Filter来实现的，比如Token认证、并发控制等。Filter中定义了一个`invoke(Invoker<?> invoker, Invocation invocation)`方法，需要流程继续往下走的时候需要调用`invoker.invoke(invocation)`。以下是一个自定义的Filter，它在流程继续往下走的前后进行了日志输出。

```java
public class LogFilter implements Filter {

  @Override
  public Result invoke(Invoker<?> invoker, Invocation invocation) throws RpcException {
    System.out.println("调用前");
    long t1 = System.currentTimeMillis();
    Result result = invoker.invoke(invocation);
    long t2 = System.currentTimeMillis();
    System.out.println(invoker.getUrl() + "调用后，耗时：" + (t2 - t1));
    return result;
  }

}
```

Dubbo的Filter是基于SPI模式作用的，但是它 nnn




























内置的Filter如下：


* org.apache.dubbo.rpc.filter.CompatibleFilter
* org.apache.dubbo.rpc.filter.EchoFilter
* org.apache.dubbo.rpc.filter.GenericFilter
* org.apache.dubbo.rpc.filter.GenericImplFilter
* org.apache.dubbo.rpc.filter.TokenFilter
* org.apache.dubbo.rpc.filter.AccessLogFilter
* org.apache.dubbo.rpc.filter.CountFilter
* org.apache.dubbo.rpc.filter.ActiveLimitFilter
* org.apache.dubbo.rpc.filter.ClassLoaderFilter
* org.apache.dubbo.rpc.filter.ContextFilter
* org.apache.dubbo.rpc.filter.ConsumerContextFilter
* org.apache.dubbo.rpc.filter.ExceptionFilter
* org.apache.dubbo.rpc.filter.ExecuteLimitFilter
* org.apache.dubbo.rpc.filter.DeprecatedFilter
* org.apache.dubbo.rpc.filter.TplLimitFilter
